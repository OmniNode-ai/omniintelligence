# =============================================================================
# OmniIntelligence Environment Configuration
# =============================================================================
#
# QUICK START:
# 1. Copy this file to .env:  cp .env.example .env
# 2. Add OMNIINTELLIGENCE_DB_URL=postgresql://postgres:<password>@localhost:5436/omniintelligence to .env
#    (this variable is not in this file; obtain credentials from your team lead)
# 3. Run tests: pytest tests/integration -m integration -v
#
# IMPORTANT: The .env file contains secrets and should NEVER be committed.
#            It is already in .gitignore.
#
# =============================================================================

# =============================================================================
# PostgreSQL Database Configuration
# =============================================================================
# Single connection URL for the OmniIntelligence database.
# Remote PostgreSQL server at 192.168.86.200 (OmniNode Bridge stack)
# Port 5436 is the EXTERNAL port for host machine access.
#
# REQUIRED: Replace <password> with the actual PostgreSQL password.
# Contact your team lead or check secure credential storage.
# DO NOT commit credentials to version control.
OMNIINTELLIGENCE_DB_URL=postgresql://postgres:<password>@192.168.86.200:5436/omniintelligence

# Connection pool settings (optional, sensible defaults provided)
POSTGRES_MIN_POOL_SIZE=2
POSTGRES_MAX_POOL_SIZE=10

# Command timeout in seconds for database operations (optional).
# Read by plugin.py and tests/integration/conftest.py with a default of 60.0.
# POSTGRES_COMMAND_TIMEOUT=60.0

# =============================================================================
# Kafka/Redpanda Event Bus Configuration
# =============================================================================
# Remote Redpanda server at 192.168.86.200
# Port 29092 is the EXTERNAL port for host machine access.
# Docker services use port 9092 via hostname omninode-bridge-redpanda.
#
# IMPORTANT: Use different configurations depending on context:
#   - Host scripts/tests: 192.168.86.200:29092 (external port)
#   - Docker services: omninode-bridge-redpanda:9092 (internal port via DNS)

KAFKA_BOOTSTRAP_SERVERS=192.168.86.200:29092
KAFKA_REQUEST_TIMEOUT_MS=30000
KAFKA_MAX_BLOCK_MS=10000

# =============================================================================
# Qdrant Vector Database Configuration (Optional)
# =============================================================================
# Used for vector search and embeddings storage.
# Typically runs locally on the development machine.

QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_URL=http://localhost:6333

# =============================================================================
# AI/ML API Keys (Optional)
# =============================================================================
# Required for intelligence operations that call external AI services.

OPENAI_API_KEY=

# =============================================================================
# LLM Endpoints (Multi-Server Architecture)
# =============================================================================
# See ~/.claude/CLAUDE.md for complete endpoint documentation.
#
# Linux GPU Server (192.168.86.201):
#   - Port 8000: Qwen2.5-Coder-14B (code generation)
#   - Port 8002: GTE-Qwen2 (embeddings)
#
# Mac Studio (192.168.86.200):
#   - Port 8100: Qwen2.5-72B (documentation/analysis)

LLM_CODER_URL=http://192.168.86.201:8000
LLM_EMBEDDING_URL=http://192.168.86.201:8002
LLM_QWEN_72B_URL=http://192.168.86.200:8100

# =============================================================================
# Feature Flags (Optional)
# =============================================================================

# Allow Kafka producers/consumers to use default configuration when
# bootstrap servers are not explicitly configured.
OMNIINTELLIGENCE_ALLOW_DEFAULT_KAFKA=true

# Enable real-time event publishing for intelligence operations.
ENABLE_REAL_TIME_EVENTS=true

# Enable Kafka-based intelligence operations.
KAFKA_ENABLE_INTELLIGENCE=true

# =============================================================================
# Development/Test Settings
# =============================================================================

# Log level for debugging
LOG_LEVEL=INFO

# Enable verbose test output
PYTEST_ADDOPTS=-v --tb=short
