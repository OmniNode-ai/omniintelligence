# Production Environment Configuration
# Copy to .env.production and fill in actual values

# Environment
ENVIRONMENT=production
NODE_ENV=production

# Domain Configuration
DOMAIN_NAME=archon.yourdomain.com
ACME_EMAIL=admin@yourdomain.com

# Service Ports
ARCHON_SERVER_PORT=8181
ARCHON_MCP_PORT=8151
ARCHON_AGENTS_PORT=8052
ARCHON_UI_PORT=3737
INTELLIGENCE_SERVICE_PORT=8053
BRIDGE_SERVICE_PORT=8054
SEARCH_SERVICE_PORT=8055

# Database Configuration
POSTGRES_DB=archon
POSTGRES_USER=archon
POSTGRES_PASSWORD=secure_production_password_here
DATABASE_URL=postgresql://archon:secure_production_password_here@postgres:5432/archon

# Supabase Configuration (if using Supabase instead of local PostgreSQL)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your_supabase_service_key_here

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# Vector Database Configuration
QDRANT_URL=http://qdrant:6333
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
EMBEDDING_DIMENSIONS=1536
QDRANT_COLLECTION_NAME=archon_vectors
QDRANT_QUALITY_COLLECTION=quality_vectors

# Graph Database Configuration
MEMGRAPH_URI=bolt://memgraph:7687

# AI/ML Configuration
OPENAI_API_KEY=your_openai_api_key_here
OLLAMA_BASE_URL=http://your-ollama-server:11434

# Security
SERVICE_AUTH_TOKEN=secure_random_token_here
SECRET_KEY=your_secret_key_here
JWT_SECRET_KEY=your_jwt_secret_here

# External Services
LOGFIRE_TOKEN=your_logfire_token_here
SENTRY_DSN=your_sentry_dsn_here

# Email Configuration (for notifications)
SMTP_ENABLED=true
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=noreply@yourdomain.com

# Monitoring Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=secure_grafana_password_here

# GitHub Container Registry
GITHUB_REPOSITORY=your-org/archon
IMAGE_TAG=latest

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=archon-backups
AWS_S3_REGION=us-east-1

# Feature Flags
AGENTS_ENABLED=true
INTELLIGENCE_ENABLED=true
FRESHNESS_ENABLED=true
ENHANCED_SEARCH_ENABLED=true

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Performance
WORKERS=4
MAX_CONNECTIONS=100
WORKER_CONNECTIONS=1000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# CORS Configuration (Security - REQUIRED for production)
# IMPORTANT: Wildcard "*" is NOT allowed in production and will be rejected
# Use CORS_ALLOWED_ORIGINS (preferred) or ALLOWED_ORIGINS (backward compatibility)
# Comma-separated list of allowed origins for Cross-Origin Resource Sharing
CORS_ALLOWED_ORIGINS=https://archon.yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=https://archon.yourdomain.com,https://www.yourdomain.com
ALLOWED_HOSTS=archon.yourdomain.com,www.yourdomain.com

# SSL/TLS
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/archon.crt
SSL_KEY_PATH=/etc/ssl/private/archon.key

# Database Connection Pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# File Upload Configuration
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,txt,md

# API Configuration
API_VERSION=v1
API_RATE_LIMIT=1000
API_TIMEOUT=30

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_MAX_CONNECTIONS=1000
