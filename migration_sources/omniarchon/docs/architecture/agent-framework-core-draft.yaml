# Agent Framework Core Schema - Draft v0.1
# Agent-6: Core Schema Architect
# Status: DRAFT - Awaiting inputs from Agent-1, 2, 3, 4

# This is a preliminary structure based on preparation phase analysis
# Will be refined with inputs from dependency agents

schema_version: "1.0.0"
framework_version: "2.0.0"

# Core Agent Definition Schema
agent_definition:
  metadata:
    required: [name, description, type, version]
    properties:
      name:
        type: string
        pattern: "^agent-[a-z-]+$"
        description: "Agent identifier following naming convention"
      description:
        type: string
        maxLength: 200
        description: "Brief agent purpose statement"
      type:
        type: string
        enum: [specialized, coordination, infrastructure, analysis]
        description: "Agent category for organizational purposes"
      version:
        type: string
        pattern: "^\\d+\\.\\d+\\.\\d+$"
        description: "Semantic version of agent implementation"
      color:
        type: string
        description: "UI color designation for agent visualization"
      task_agent_type:
        type: string
        description: "Task categorization for routing and coordination"

# Framework Integration Requirements
framework_integration:
  required: [archon_integration, intelligence_gathering, knowledge_capture]
  properties:
    archon_integration:
      type: object
      required: [enabled, phase_compliance]
      properties:
        enabled: {type: boolean, const: true}
        phase_compliance:
          type: array
          items:
            enum: [initialization, intelligence, coordination, tracking, completion]

    mcp_integration:
      type: array
      items:
        enum: [context7, sequential, magic, playwright, archon]

    intelligence_gathering:
      type: object
      required: [mandatory, types]
      properties:
        mandatory: {type: boolean, const: true}
        types:
          type: array
          items:
            enum: [debug, domain_standards, performance_quality, collaboration]

    knowledge_capture:
      type: object
      required: [automatic, uaks_integration]
      properties:
        automatic: {type: boolean, const: true}
        uaks_integration: {type: boolean, const: true}

# Agent Capabilities and Patterns
agent_capabilities:
  delegation_patterns:
    type: array
    items:
      enum: [sequential, parallel, hybrid]
    description: "Supported delegation execution patterns"

  coordination_protocols:
    type: array
    items:
      enum: [synchronization_points, communication_patterns, resource_management]

  quality_gates:
    type: object
    required: [validation_standards, error_handling]
    properties:
      validation_standards:
        type: array
        items:
          enum: [input_validation, process_validation, output_validation, integration_testing]
      error_handling:
        type: array
        items:
          enum: [graceful_degradation, circuit_breaker, retry_logic, fallback_strategies]

# Execution Context Requirements
execution_context:
  lifecycle_phases:
    type: array
    minItems: 5
    items:
      enum: [initialization, intelligence_gathering, planning, execution, validation, completion]

  context_inheritance:
    type: object
    required: [preservation_protocol, parallel_distribution]
    properties:
      preservation_protocol: {type: boolean, const: true}
      parallel_distribution: {type: boolean}

  progress_tracking:
    type: object
    required: [real_time_updates, archon_integration]
    properties:
      real_time_updates: {type: boolean, const: true}
      archon_integration: {type: boolean, const: true}

# Performance and Quality Standards
quality_standards:
  performance_thresholds:
    intelligence_gathering_overhead: {type: number, maximum: 100}  # milliseconds
    context_inheritance_time: {type: number, maximum: 50}         # milliseconds
    validation_time: {type: number, maximum: 50}                  # milliseconds

  compliance_requirements:
    onex_standards: {type: boolean, const: true}
    anti_yolo_methodology: {type: boolean, const: true}
    bfros_framework: {type: boolean, const: true}
    clean_agent_principles: {type: boolean, const: true}

# Extension Points for Future Development
extension_points:
  custom_capabilities:
    type: array
    description: "Domain-specific capabilities beyond core framework"

  integration_hooks:
    type: object
    description: "Custom integration points for specialized environments"

  validation_extensions:
    type: array
    description: "Additional validation rules for specific contexts"

# Validation Rules
validation_rules:
  schema_compliance:
    type: boolean
    const: true
    description: "Must pass schema validation"

  existing_agent_compatibility:
    type: boolean
    const: true
    description: "Must support all 39+ existing agents"

  performance_requirements:
    type: boolean
    const: true
    description: "Must meet performance thresholds"

# NOTES:
# - This draft is based on preparation phase analysis
# - Waiting for Agent-1: Core requirements and mandatory functions
# - Waiting for Agent-2: Implementation patterns and relationships
# - Waiting for Agent-3: Template structure and consistency requirements
# - Waiting for Agent-4: Dependency constraints and validation rules
# - Schema will be refined and finalized with dependency inputs
# - Target: 50-100 lines final schema (currently ~80 lines)
