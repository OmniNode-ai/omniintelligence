# ONEX Effect Contract - Qdrant Vector Effect
# Migrated to strict ONEX schema

name: qdrant_vector_effect
version:
  major: 1
  minor: 0
  patch: 0

description: |
  Effect node for storing and managing vectors in Qdrant.
  Handles collection management, vector indexing, and search operations.

node_type: effect

# Fully qualified model class names
input_model: omniintelligence.nodes.qdrant_vector_effect.v1_0_0.models.ModelQdrantVectorInput
output_model: omniintelligence.nodes.qdrant_vector_effect.v1_0_0.models.ModelQdrantVectorOutput

# I/O operations (required for effect nodes)
io_operations:
  - operation_type: vector_index
    atomic: true
    backup_enabled: false
    timeout_seconds: 30
    validation_enabled: true

  - operation_type: vector_search
    atomic: false
    backup_enabled: false
    timeout_seconds: 30
    validation_enabled: true

  - operation_type: vector_delete
    atomic: true
    backup_enabled: false
    timeout_seconds: 30
    validation_enabled: true

  - operation_type: collection_create
    atomic: true
    backup_enabled: false
    timeout_seconds: 60
    validation_enabled: true

# Transaction management
transaction_management:
  enabled: false

# Retry policies
retry_policies:
  max_attempts: 3
  circuit_breaker_enabled: true
  circuit_breaker_threshold: 3

# Dependencies
dependencies:
  - name: ProtocolVectorDatabase
    dependency_type: protocol
    required: true
    description: Qdrant vector database service

# Author and tags
author: omniintelligence
tags:
  - effect
  - qdrant
  - vectors
  - embeddings
