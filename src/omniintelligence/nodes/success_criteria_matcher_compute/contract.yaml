---
# ONEX Node Contract - Success Criteria Matcher Compute Node
#
# Part of pattern_extraction split (Track 2 Intelligence Hook System)
contract_version:
  major: 1
  minor: 0
  patch: 0
node_version:
  major: 1
  minor: 0
  patch: 0
name: "success_criteria_matcher_compute"
node_type: "COMPUTE_GENERIC"
description: >-
  Compute node for matching execution outcomes against success criteria. Determines if observed behavior
  matches expected patterns.
input_model:
  name: "ModelSuccessCriteriaInput"
  module: "omniintelligence.nodes.success_criteria_matcher_compute.models"
  description: "Input containing execution outcome and criteria to match."
output_model:
  name: "ModelSuccessCriteriaOutput"
  module: "omniintelligence.nodes.success_criteria_matcher_compute.models"
  description: "Output containing match results and confidence scores."
operations:
  - name: "match_criteria"
    description: "Match execution outcome against success criteria"
    input_fields:
      - execution_outcome
      - correlation_id
      - criteria_set
    output_fields:
      - success
      - matched_criteria
      - match_score
      - unmatched_criteria
# TODO: Create omniintelligence.protocols module with criteria matcher protocol
dependencies: []
# - name: "criteria_matcher"
#   type: "protocol"
#   module: "omniintelligence.protocols"
#   description: "Criteria matching engine"
# Error Handling Configuration
# ============================
error_handling:
  error_types:
    - name: "CriteriaMatchingValidationError"
      description: "Input validation failed (e.g., empty criteria set)"
      recoverable: false
      retry_strategy: "none"
    - name: "CriteriaMatchingComputeError"
      description: "Error during criteria matching"
      recoverable: true
      retry_strategy: "immediate_retry"
health_check:
  enabled: true
  endpoint: "/health"
  interval_seconds: 30
metadata:
  author: "OmniNode Team"
  created: "2025-10-02"
  updated: "2026-01-18"
  tags:
    - "ONEX"
    - "compute"
    - "criteria"
    - "matcher"
    - "pattern-extraction"
